plugins {
    id 'java'
    id 'jacoco'
    id 'info.solidsoft.pitest' version '1.4.0'
}

jar {
    manifest {
        attributes 'Main-Class': 'com.jneethling.Master' 
    }
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.13.2'
    implementation 'org.jacoco:org.jacoco.core:0.8.7'
}

///

jacoco {
    toolVersion = "0.8.7"
}

sourceSets {
    main {
        java.srcDirs = ['src/main/java']
    }
    test {
        java.srcDirs = ['src/test/java']
    }
}

jacocoTestReport {
    reports {
    }
    // Define coverage thresholds (optional)
    dependsOn test
}

///

pitest {
    targetClasses = ['com.jneethling.*'] // Define the packages or classes to be tested
    targetTests = ['com.jneethling.Tests'] // Define the test classes
    threads = 2 // Specify the number of threads to use for mutation testing (adjust as needed)
    outputFormats = ['HTML', 'XML'] // Define the output formats (HTML for reports, XML for CI integration)
}
